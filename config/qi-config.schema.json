{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Qi Prompt CLI Configuration Schema",
  "description": "Configuration schema for Qi Prompt v-0.6.3 with QiCore integration",
  "type": "object",
  "properties": {
    "app": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "Application name"
        },
        "version": {
          "type": "string",
          "pattern": "^v-\\d+\\.\\d+\\.\\d+$",
          "description": "Application version"
        },
        "debug": {
          "type": "boolean",
          "description": "Enable debug mode"
        },
        "framework": {
          "type": "string",
          "enum": ["readline", "ink", "hybrid"],
          "description": "CLI framework to use"
        },
        "autoDetect": {
          "type": "boolean",
          "description": "Auto-detect best framework for environment"
        }
      },
      "required": ["name", "version"],
      "additionalProperties": false
    },
    "ui": {
      "type": "object",
      "properties": {
        "enableHotkeys": {
          "type": "boolean",
          "description": "Enable keyboard hotkeys"
        },
        "enableStreaming": {
          "type": "boolean",
          "description": "Enable streaming mode"
        },
        "enableColors": {
          "type": "boolean",
          "description": "Enable colored output"
        },
        "enableTTYDetection": {
          "type": "boolean",
          "description": "Enable TTY detection"
        }
      },
      "additionalProperties": false
    },
    "messaging": {
      "type": "object",
      "properties": {
        "queueTTL": {
          "type": "integer",
          "minimum": 1000,
          "maximum": 3600000,
          "description": "Message queue TTL in milliseconds"
        },
        "maxConcurrentMessages": {
          "type": "integer",
          "minimum": 1,
          "maximum": 100,
          "description": "Maximum concurrent messages"
        },
        "messageTimeout": {
          "type": "integer",
          "minimum": 1000,
          "maximum": 600000,
          "description": "Message timeout in milliseconds"
        }
      },
      "additionalProperties": false
    },
    "logging": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": ["debug", "info", "warn", "error"],
          "description": "Logging level"
        },
        "pretty": {
          "type": "boolean",
          "description": "Enable pretty printing"
        },
        "structured": {
          "type": "boolean",
          "description": "Enable structured logging"
        },
        "component": {
          "type": "string",
          "description": "Component name for logging"
        }
      },
      "additionalProperties": false
    },
    "workflows": {
      "type": "object",
      "properties": {
        "enableFileReference": {
          "type": "boolean",
          "description": "Enable file reference workflow"
        },
        "enableProjectScanner": {
          "type": "boolean",
          "description": "Enable project scanner"
        },
        "enableSessionManager": {
          "type": "boolean",
          "description": "Enable session manager"
        },
        "maxOperationsPerWorkflow": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "Maximum operations per workflow"
        }
      },
      "additionalProperties": false
    }
  },
  "required": ["app"],
  "additionalProperties": false
}
